@using RayaWSoffara.Helpers
@{
    ViewBag.Title = "الرئيسية";
                            //var model = ViewBag.Posts;
}
<div class="leaderboard-container">
    <div class="col-md-6 leaderboard">
        <ul class="nav leader-nav-tabs">
            <li><a href="#weekly" data-toggle="tab">هذا الاسبوع</a></li>
            <li class="active"><a href="#monthly" data-toggle="tab">هذا الشهر</a></li>
            <li><a href="#selectedDate" data-toggle="tab">أختر تاريخ</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane" id="weekly">
                <table>
                    <thead>
                        <tr>
                            <th>الكاتب</th>
                            <th>عدد النقاط</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in @ViewBag.WeeklyLeadersPoints)
                        {
                            <tr>
                                <td>@item.UserName</td>
                                <td>@item.PointsValue</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="tab-pane active" id="monthly">
                <table>
                    <thead>
                        <tr>
                            <th>الكاتب</th>
                            <th>عدد النقاط</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in @ViewBag.MonthlyLeadersPoints)
                        {
                            <tr>
                                <td>@item.UserName</td>
                                <td>@item.PointsValue</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="tab-pane" id="selectedDate">
                <table>
                    <thead>
                        <tr>
                            <th>الكاتب</th>
                            <th>عدد النقاط</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in @ViewBag.SelectedDateLeadersPoints)
                        {
                            <tr>
                                <td>@item.UserName</td>
                                <td>@item.PointsValue</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

    </div>

    <div class="col-md-6">
        <div>
            <div class="profile-sub-title">
                مقالات أخرى للكاتب
            </div>
            <div class="clear-fix"></div>
            <div class="writers_data_div">
                @foreach (var article in @ViewBag.LeaderPosts)
                {
                    <div class="single_article col-md-12 col-xs-6">
                        <div class="col-xs-5">
                            <div class="other_articles_img">
                                <a href="../../Article/ArticleDisplay/@article.PostId">
                                    @if (@article.HasImage == true)
                                    {
                                        <img class="img" id="" src="~/Content/Article_Images/@article.FeaturedImage?w=135&h=90&mode=crop" />
                                    }
                                    else
                                    {
                                        <img class="video_img" src="http://img.youtube.com/vi/@article.FeaturedVideo/0.jpg?w=135&h=90&mode=crop">
                                    }

                                </a>
                            </div>
                        </div>
                        <div class="col-xs-7">
                            <div class="title">
                                @Html.ActionLink((string)@article.Title, "ArticleDisplay", new { id = @article.PostId })
                            </div>
                            <div class="abstract">
                                @{ string text = @Html.Raw(@article.Content).ToString(); }
                                @TrimTextHelper.TrimText(@text, 50)
                            </div>
                        </div>
                    </div>
                    <div class="clear-fix hidden-xs hidden-sm"></div>
                }
            </div>
        </div>
    </div>

</div>
<div class="clear-fix"></div>

<div class="loading hidden">
    <div>
        <div class="sk-fading-circle">
            <div class="sk-circle1 sk-circle"></div>
            <div class="sk-circle2 sk-circle"></div>
            <div class="sk-circle3 sk-circle"></div>
            <div class="sk-circle4 sk-circle"></div>
            <div class="sk-circle5 sk-circle"></div>
            <div class="sk-circle6 sk-circle"></div>
            <div class="sk-circle7 sk-circle"></div>
            <div class="sk-circle8 sk-circle"></div>
            <div class="sk-circle9 sk-circle"></div>
            <div class="sk-circle10 sk-circle"></div>
            <div class="sk-circle11 sk-circle"></div>
            <div class="sk-circle12 sk-circle"></div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.12/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>
<script src="~/Content/Scripts/tag-it.js" type="text/javascript" charset="utf-8"></script>
<script src="~/Content/Scripts/imagesloaded.pkgd.min.js"></script>
<script>
    //$('#myTab a').click(function (e) {
    //    e.preventDefault();
    //    $(this).tab('show');
    //});
</script>
